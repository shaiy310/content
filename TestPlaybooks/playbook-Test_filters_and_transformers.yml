id: Test filters & transformers scripts
version: -1
name: Test filters & transformers scripts
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 6236667c-cbd9-4e01-8fc8-82172adc411c
    type: start
    task:
      id: 6236667c-cbd9-4e01-8fc8-82172adc411c
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 50
        }
      }
  "1":
    id: "1"
    taskid: bfa8ccb3-3144-43fe-807f-567a59712ea2
    type: title
    task:
      id: bfa8ccb3-3144-43fe-807f-567a59712ea2
      version: -1
      name: Test In Range
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "2"
      - "4"
      - "5"
      - "6"
      - "7"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 195
        }
      }
  "2":
    id: "2"
    taskid: aeb5dd3a-f10b-47cc-8aee-4eb08dbeddd8
    type: condition
    task:
      id: aeb5dd3a-f10b-47cc-8aee-4eb08dbeddd8
      version: -1
      name: 4 In range [2,8]
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "12"
      "yes":
      - "3"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: number.InRange
          left:
            value:
              simple: "4"
          right:
            value:
              simple: 2,8
    view: |-
      {
        "position": {
          "x": 50,
          "y": 340
        }
      }
  "3":
    id: "3"
    taskid: b40c44ed-1588-44dc-8d6c-038bc257dc21
    type: title
    task:
      id: b40c44ed-1588-44dc-8d6c-038bc257dc21
      version: -1
      name: Test Strip charecter
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "14"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 530
        }
      }
  "4":
    id: "4"
    taskid: 79d58da4-dc70-40c1-8b60-01e660370e47
    type: condition
    task:
      id: 79d58da4-dc70-40c1-8b60-01e660370e47
      version: -1
      name: -4 In range [-2, -8]
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "11"
      "yes":
      - "3"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: number.InRange
          left:
            value:
              simple: "-4"
          right:
            value:
              simple: -8,-2
    view: |-
      {
        "position": {
          "x": 490,
          "y": 340
        }
      }
  "5":
    id: "5"
    taskid: f47e54eb-68fc-4bc5-86a6-3483dc983980
    type: condition
    task:
      id: f47e54eb-68fc-4bc5-86a6-3483dc983980
      version: -1
      name: 1 In range [2,8]
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "3"
      "yes":
      - "8"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: number.InRange
          left:
            value:
              simple: "1"
          right:
            value:
              simple: 2,8
    view: |-
      {
        "position": {
          "x": 1125,
          "y": 340
        }
      }
  "6":
    id: "6"
    taskid: 53473f00-a145-47ac-88f7-82ef2478c3c4
    type: condition
    task:
      id: 53473f00-a145-47ac-88f7-82ef2478c3c4
      version: -1
      name: panda In range [2, 8]
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "3"
      "yes":
      - "10"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: number.InRange
          left:
            value:
              simple: panda
          right:
            value:
              simple: 2,8
    view: |-
      {
        "position": {
          "x": 1760,
          "y": 340
        }
      }
  "7":
    id: "7"
    taskid: b4a0acf3-3d2f-4348-8730-d2b49341d1dd
    type: condition
    task:
      id: b4a0acf3-3d2f-4348-8730-d2b49341d1dd
      version: -1
      name: 1 In range [28]
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "3"
      "yes":
      - "9"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: number.InRange
          left:
            value:
              simple: "1"
          right:
            value:
              simple: "28"
    view: |-
      {
        "position": {
          "x": 2200,
          "y": 340
        }
      }
  "8":
    id: "8"
    taskid: 1b1bc9c3-4020-4590-81a4-c7ebebaaf9e2
    type: regular
    task:
      id: 1b1bc9c3-4020-4590-81a4-c7ebebaaf9e2
      version: -1
      name: 'FAILED: 1 In range [2,8]'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: 1 In range [2,8]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1340,
          "y": 515
        }
      }
  "9":
    id: "9"
    taskid: 5f27d3a3-ff9d-47b4-8fe9-b19fb96bfb43
    type: regular
    task:
      id: 5f27d3a3-ff9d-47b4-8fe9-b19fb96bfb43
      version: -1
      name: 'FAILED: 1 In range [28]'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: 1 In range [28]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 2200,
          "y": 515
        }
      }
  "10":
    id: "10"
    taskid: ab6570a0-4d89-4193-8378-9aeb51f7c6cf
    type: regular
    task:
      id: ab6570a0-4d89-4193-8378-9aeb51f7c6cf
      version: -1
      name: 'FAILED: panda In range [2, 8]'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: panda In range [2, 8]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1770,
          "y": 515
        }
      }
  "11":
    id: "11"
    taskid: d3e873f3-ffb9-43ac-8f3a-d5bd5254a8bb
    type: regular
    task:
      id: d3e873f3-ffb9-43ac-8f3a-d5bd5254a8bb
      version: -1
      name: 'FAILED: -4 In range [-2, -8]'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: -4 In range [-2, -8]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 515
        }
      }
  "12":
    id: "12"
    taskid: e0d4e65a-f9b7-4969-8caf-51ca97dd7d97
    type: regular
    task:
      id: e0d4e65a-f9b7-4969-8caf-51ca97dd7d97
      version: -1
      name: 'FAILED: 4 In range [2,8]'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: 4 In range [2,8]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 515
        }
      }
  "13":
    id: "13"
    taskid: cd89a4b9-56a2-4e96-8828-186eec705b2d
    type: condition
    task:
      id: cd89a4b9-56a2-4e96-8828-186eec705b2d
      version: -1
      name: Test Strip Char
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "16"
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg1
                transformers:
                - operator: string.StripChars
                  args:
                    chars:
                      value:
                        simple: '!~'
            iscontext: true
          right:
            value:
              simple: www.somedomain.com
    view: |-
      {
        "position": {
          "x": 910,
          "y": 865
        }
      }
  "14":
    id: "14"
    taskid: 01c792af-8044-46ec-8914-5961a0ef05ea
    type: regular
    task:
      id: 01c792af-8044-46ec-8914-5961a0ef05ea
      version: -1
      name: Set arg1
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "13"
    scriptarguments:
      append: {}
      key:
        simple: arg1
      value:
        simple: ~!www.somedomain.com~~!!~
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 690
        }
      }
  "15":
    id: "15"
    taskid: ab12f861-596b-4cf2-88bb-fdd23a7ee050
    type: title
    task:
      id: ab12f861-596b-4cf2-88bb-fdd23a7ee050
      version: -1
      name: Test Reverse
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "17"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1125,
          "y": 1055
        }
      }
  "16":
    id: "16"
    taskid: 03541a83-c468-4ca2-8a4e-64de52638d2a
    type: regular
    task:
      id: 03541a83-c468-4ca2-8a4e-64de52638d2a
      version: -1
      name: 'FAILED: Split char'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: split char'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 695,
          "y": 1040
        }
      }
  "17":
    id: "17"
    taskid: b4728f45-3852-44ea-8ad5-a6c36a3daa1b
    type: regular
    task:
      id: b4728f45-3852-44ea-8ad5-a6c36a3daa1b
      version: -1
      name: Set arg2 (multiple items)
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "18"
    scriptarguments:
      append: {}
      key:
        simple: arg2
      value:
        simple: '["mars","jupiter","saturn"]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1125,
          "y": 1215
        }
      }
  "18":
    id: "18"
    taskid: d9308204-3a0b-4b11-83de-2acc50dce4a8
    type: condition
    task:
      id: d9308204-3a0b-4b11-83de-2acc50dce4a8
      version: -1
      name: Test Reverse List (multiple items)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "20"
      "yes":
      - "21"
    scriptarguments:
      value:
        simple: ${arg2}
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg2
                transformers:
                - operator: general.ReverseList
                - operator: general.join
                  args:
                    separator:
                      value:
                        simple: ','
            iscontext: true
          right:
            value:
              simple: saturn,jupiter,mars
    view: |-
      {
        "position": {
          "x": 1125,
          "y": 1390
        }
      }
  "19":
    id: "19"
    taskid: 3e882b4c-e64c-4dc7-87df-41e512985442
    type: regular
    task:
      id: 3e882b4c-e64c-4dc7-87df-41e512985442
      version: -1
      name: Finished
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      value:
        simple: Finished
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1855,
          "y": 3259
        }
      }
  "20":
    id: "20"
    taskid: 278873a8-7654-4765-8e53-6dce9aa5b6c0
    type: regular
    task:
      id: 278873a8-7654-4765-8e53-6dce9aa5b6c0
      version: -1
      name: 'FAILED: Reverse List  (multiple items)'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: Reverse List - expected saturn,jupiter,mars'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1340,
          "y": 1565
        }
      }
  "21":
    id: "21"
    taskid: 535713e5-58ed-4538-8363-61472de17e20
    type: regular
    task:
      id: 535713e5-58ed-4538-8363-61472de17e20
      version: -1
      name: Set arg3 (single item)
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "22"
    scriptarguments:
      append: {}
      key:
        simple: arg3
      value:
        simple: neptune
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 1565
        }
      }
  "22":
    id: "22"
    taskid: 61137620-f18a-4eb9-84c3-6110038dd828
    type: condition
    task:
      id: 61137620-f18a-4eb9-84c3-6110038dd828
      version: -1
      name: Test Reverse List  (single item)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "23"
      "yes":
      - "27"
    scriptarguments:
      value:
        simple: ${arg2}
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg3
                transformers:
                - operator: general.ReverseList
            iscontext: true
          right:
            value:
              simple: neptune
    view: |-
      {
        "position": {
          "x": 910,
          "y": 1738
        }
      }
  "23":
    id: "23"
    taskid: 331b3479-725b-4a4d-8562-bfc8ecfe1580
    type: regular
    task:
      id: 331b3479-725b-4a4d-8562-bfc8ecfe1580
      version: -1
      name: 'FAILED: Reverse List (single item)'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: Reverse List - expected neptune'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 695,
          "y": 1915
        }
      }
  "24":
    id: "24"
    taskid: a6e5b44f-949e-46e4-8468-e3740b1ed33f
    type: regular
    task:
      id: a6e5b44f-949e-46e4-8468-e3740b1ed33f
      version: -1
      name: Set arg4 (timestamp)
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      append: {}
      key:
        simple: arg4
      value:
        simple: "1525006939"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1150,
          "y": 2069
        }
      }
  "25":
    id: "25"
    taskid: ee885e97-6712-442e-8385-560c80442eec
    type: condition
    task:
      id: ee885e97-6712-442e-8385-560c80442eec
      version: -1
      name: Test Time Stamp To Date
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "26"
      "yes":
      - "28"
    scriptarguments:
      value:
        simple: ${arg2}
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg4
                transformers:
                - operator: number.TimeStampToDate
            iscontext: true
          right:
            value:
              simple: 2018-04-29T13:02:19.000Z
    view: |-
      {
        "position": {
          "x": 1150,
          "y": 2233
        }
      }
  "26":
    id: "26"
    taskid: 7840e4ae-bff1-44b5-8375-dab8d5ca960d
    type: regular
    task:
      id: 7840e4ae-bff1-44b5-8375-dab8d5ca960d
      version: -1
      name: 'FAILED: Time Stamp To Date'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: TimeStampToDate - expected ''2018-04-29T13:02:19.000Z'''
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 929,
          "y": 2467
        }
      }
  "27":
    id: "27"
    taskid: 8426b311-470b-4036-8ea9-2d773748ac47
    type: title
    task:
      id: 8426b311-470b-4036-8ea9-2d773748ac47
      version: -1
      name: Test Time Stamp To Date
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "24"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1139,
          "y": 1915
        }
      }
  "28":
    id: "28"
    taskid: 1f277511-70ec-4038-8e26-4813e222f98c
    type: title
    task:
      id: 1f277511-70ec-4038-8e26-4813e222f98c
      version: -1
      name: Test Where Field Equals
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "29"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1390,
          "y": 2467
        }
      }
  "29":
    id: "29"
    taskid: 0867991e-7c19-4ec2-8f84-33c9585c13b6
    type: regular
    task:
      id: 0867991e-7c19-4ec2-8f84-33c9585c13b6
      version: -1
      name: Set arg5 (collection)
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "30"
    scriptarguments:
      append: {}
      key:
        simple: arg5
      value:
        simple: '[{"name": "192.0.1.82","type": "IP"},{"name": "myfile.exe","type":
          "File"}]'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1386,
          "y": 2631
        }
      }
  "30":
    id: "30"
    taskid: 86786343-f17e-4fd1-85dd-18713b1de823
    type: condition
    task:
      id: 86786343-f17e-4fd1-85dd-18713b1de823
      version: -1
      name: Test Where Field Equals without 'getField'
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "31"
      "yes":
      - "32"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg5
                transformers:
                - operator: general.WhereFieldEquals
                  args:
                    equalTo:
                      value:
                        simple: IP
                    field:
                      value:
                        simple: type
                    getField: {}
                - operator: general.Stringify
            iscontext: true
          right:
            value:
              simple: '{"name":"192.0.1.82","type":"IP"}'
    view: |-
      {
        "position": {
          "x": 1390,
          "y": 2813
        }
      }
  "31":
    id: "31"
    taskid: b38d8394-1b10-49f3-80e1-100be3c83899
    type: regular
    task:
      id: b38d8394-1b10-49f3-80e1-100be3c83899
      version: -1
      name: 'FAILED: Where Field Equals'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: WhereFieldEquals - expected {"name":"192.0.1.82","type":"IP"}'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1125,
          "y": 3031
        }
      }
  "32":
    id: "32"
    taskid: 0c6cda37-940b-4f32-8b03-9f5c6e8c5abd
    type: condition
    task:
      id: 0c6cda37-940b-4f32-8b03-9f5c6e8c5abd
      version: -1
      name: Test Where Field Equals with 'getField'
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "33"
      "yes":
      - "19"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: string.isEqual
          left:
            value:
              complex:
                root: arg5
                transformers:
                - operator: general.WhereFieldEquals
                  args:
                    equalTo:
                      value:
                        simple: IP
                    field:
                      value:
                        simple: type
                    getField:
                      value:
                        simple: name
            iscontext: true
          right:
            value:
              simple: 192.0.1.82
    view: |-
      {
        "position": {
          "x": 1619,
          "y": 3031
        }
      }
  "33":
    id: "33"
    taskid: 2dd5b233-be3c-40e2-85b6-a6ef1b5e3fa0
    type: regular
    task:
      id: 2dd5b233-be3c-40e2-85b6-a6ef1b5e3fa0
      version: -1
      name: 'FAILED: Where Field Equals with'
      scriptName: RaiseError
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      error:
        simple: 'FAILED: WhereFieldEquals with ''getField'' - expected 92.0.1.82'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1422,
          "y": 3259
        }
      }
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 3304,
        "width": 2530,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
