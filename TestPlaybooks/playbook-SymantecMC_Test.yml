id: SymantecMC_TestPlaybook
version: -1
name: SymantecMC_TestPlaybook
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 8312cf16-27b0-4914-8598-c2462db4b7b8
    type: start
    task:
      id: 8312cf16-27b0-4914-8598-c2462db4b7b8
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "30"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "1":
    id: "1"
    taskid: fc332b09-7cd1-4a0a-8fc4-0be3d887691d
    type: regular
    task:
      id: fc332b09-7cd1-4a0a-8fc4-0be3d887691d
      version: -1
      name: List devices
      description: List devices in Symantec MC
      script: Symantec Management Center|||symantec-mc-list-devices
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "2"
    scriptarguments:
      build: {}
      description: {}
      limit: {}
      model: {}
      name:
        simple: CONTAINS Blue Coat
      os_version: {}
      platform: {}
      type: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "2":
    id: "2"
    taskid: 5136b6ac-160f-4541-8988-c1721e6b9136
    type: regular
    task:
      id: 5136b6ac-160f-4541-8988-c1721e6b9136
      version: -1
      name: Get BlueCoat device
      description: Get a device from Symantec MC
      script: Symantec Management Center|||symantec-mc-get-device
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "3"
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "3":
    id: "3"
    taskid: 3735de8b-1a9c-448c-8749-0f07080f0d49
    type: condition
    task:
      id: 3735de8b-1a9c-448c-8749-0f07080f0d49
      version: -1
      name: Did we get the correct device?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "5"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: SymantecMC.Device.Name
            iscontext: true
          right:
            value:
              simple: 192.168.1.207 - Blue Coat SG-VA Series
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "4":
    id: "4"
    taskid: fb5eb6a7-a73c-472b-88dc-b346c6ea6a58
    type: regular
    task:
      id: fb5eb6a7-a73c-472b-88dc-b346c6ea6a58
      version: -1
      name: symantec-mc-get-device-health
      description: Get the health information for a device in Symantec MC
      script: Symantec Management Center|||symantec-mc-get-device-health
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "6"
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1040
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "5":
    id: "5"
    taskid: 1d861ed8-6bef-430f-84d8-49825d61578d
    type: title
    task:
      id: 1d861ed8-6bef-430f-84d8-49825d61578d
      version: -1
      name: Get Device Status
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "4"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "6":
    id: "6"
    taskid: dfa2604e-cc4b-40e7-858a-50fd60c06dd6
    type: regular
    task:
      id: dfa2604e-cc4b-40e7-858a-50fd60c06dd6
      version: -1
      name: symantec-mc-get-device-license
      description: Get license information for a device in Symantec MC
      script: Symantec Management Center|||symantec-mc-get-device-license
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "7"
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1215
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "7":
    id: "7"
    taskid: d2b8599f-8225-4440-8688-7d333175bd3b
    type: regular
    task:
      id: d2b8599f-8225-4440-8688-7d333175bd3b
      version: -1
      name: symantec-mc-get-device-status
      description: Get the status of a device in Symantec MC
      script: Symantec Management Center|||symantec-mc-get-device-status
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "8"
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1390
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "8":
    id: "8"
    taskid: 7262a793-b8ec-439c-83c6-548529a76522
    type: condition
    task:
      id: 7262a793-b8ec-439c-83c6-548529a76522
      version: -1
      name: Did we get all the details?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "9"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Device.Health
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Device.LicenseComponent
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Device.MonitorState
            iscontext: true
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1565
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "9":
    id: "9"
    taskid: ad07b2bb-ed9a-47f1-8350-8f8efdc35624
    type: title
    task:
      id: ad07b2bb-ed9a-47f1-8350-8f8efdc35624
      version: -1
      name: Manage Policy
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "31"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1740
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "10":
    id: "10"
    taskid: e4034ddb-324e-49cd-8eeb-60ae4474c3e4
    type: regular
    task:
      id: e4034ddb-324e-49cd-8eeb-60ae4474c3e4
      version: -1
      name: Search for the URL policy
      description: List policies in Symantec MC
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "11"
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_url
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 2585
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "11":
    id: "11"
    taskid: 7f6f574d-7a72-4dc1-81a6-5bd76e644bef
    type: condition
    task:
      id: 7f6f574d-7a72-4dc1-81a6-5bd76e644bef
      version: -1
      name: Does it exist?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "36"
      "yes":
      - "12"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Policy
            iscontext: true
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 2760
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "12":
    id: "12"
    taskid: 4be40bed-d39d-4c71-8d2f-b536ebdf8f99
    type: regular
    task:
      id: 4be40bed-d39d-4c71-8d2f-b536ebdf8f99
      version: -1
      name: Delete the policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "35"
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2935
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "13":
    id: "13"
    taskid: 85e17dd1-134b-4178-8358-da2bbea7713c
    type: regular
    task:
      id: 85e17dd1-134b-4178-8358-da2bbea7713c
      version: -1
      name: Create a new IP policy
      description: Create a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "15"
    scriptarguments:
      content_type:
        simple: IP_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_ip
      reference_id: {}
      replace_variables: {}
      shared:
        simple: "true"
      tenant:
        complex:
          root: SymantecMC
          accessor: Tenant
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 4335
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "14":
    id: "14"
    taskid: 1b54a1bc-37b0-4328-8624-677bd88b5051
    type: regular
    task:
      id: 1b54a1bc-37b0-4328-8624-677bd88b5051
      version: -1
      name: List tenants
      description: List tenants in Symantec MC
      script: Symantec Management Center|||symantec-mc-list-tenants
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "13"
    scriptarguments:
      limit: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 4160
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "15":
    id: "15"
    taskid: 119e7ca6-69bd-437d-8432-ef61163f4b97
    type: regular
    task:
      id: 119e7ca6-69bd-437d-8432-ef61163f4b97
      version: -1
      name: Create a new URL policy
      description: Create a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "16"
    scriptarguments:
      content_type:
        simple: URL_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_url
      reference_id: {}
      replace_variables: {}
      shared:
        simple: "true"
      tenant:
        complex:
          root: SymantecMC
          accessor: Tenant
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 4510
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "16":
    id: "16"
    taskid: f070736e-f7a6-4e24-8c2b-ff08fe4bb6e2
    type: regular
    task:
      id: f070736e-f7a6-4e24-8c2b-ff08fe4bb6e2
      version: -1
      name: Create a new category policy
      description: Create a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "28"
    scriptarguments:
      content_type:
        simple: CATEGORY_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_category
      reference_id: {}
      replace_variables: {}
      shared:
        simple: "true"
      tenant:
        complex:
          root: SymantecMC
          accessor: Tenant
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 4685
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "18":
    id: "18"
    taskid: b1343460-5d1d-4d27-8278-e00c50f1396c
    type: regular
    task:
      id: b1343460-5d1d-4d27-8278-e00c50f1396c
      version: -1
      name: Delete Context
      description: Delete field from context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "14"
    scriptarguments:
      all:
        simple: "yes"
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 3985
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "19":
    id: "19"
    taskid: ad617734-044c-4fec-8581-e942e38596e0
    type: regular
    task:
      id: ad617734-044c-4fec-8581-e942e38596e0
      version: -1
      name: Add IP content
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "20"
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: IP_LIST
      description:
        simple: test
      enabled: {}
      ip:
        simple: 2.2.2.2,4.4.4.4,8.8.8.8
      schema_version: {}
      url: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5035
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "20":
    id: "20"
    taskid: 283d0c27-dc4e-419a-87fc-2a1e35f667e1
    type: regular
    task:
      id: 283d0c27-dc4e-419a-87fc-2a1e35f667e1
      version: -1
      name: Add URL content
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "21"
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: URL_LIST
      description:
        simple: test
      enabled: {}
      ip: {}
      schema_version: {}
      url:
        simple: www.ynet.co.il,www.youtube.com
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5210
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "21":
    id: "21"
    taskid: decd8f5b-3ba7-4ac3-8dca-25748952c04f
    type: regular
    task:
      id: decd8f5b-3ba7-4ac3-8dca-25748952c04f
      version: -1
      name: Add Category content
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      category:
        simple: my cat,his cat
      change_description:
        simple: test
      content_type:
        simple: CATEGORY_LIST
      description:
        simple: test
      enabled: {}
      ip: {}
      schema_version: {}
      url: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5385
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "23":
    id: "23"
    taskid: 9ab79950-95d9-4e37-8e73-b957c460a2f3
    type: regular
    task:
      id: 9ab79950-95d9-4e37-8e73-b957c460a2f3
      version: -1
      name: Delete IP content
      description: Delete content from a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: IP_LIST
      ip:
        simple: 4.4.4.4,8.8.8.8
      schema_version: {}
      url: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5910
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "24":
    id: "24"
    taskid: 9c93b0af-9a3b-4c8a-8360-0f4764a5d9ee
    type: regular
    task:
      id: 9c93b0af-9a3b-4c8a-8360-0f4764a5d9ee
      version: -1
      name: Delete URL content
      description: Delete content from a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: URL_LIST
      ip: {}
      schema_version: {}
      url:
        simple: www.ynet.co.il
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5735
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "25":
    id: "25"
    taskid: 4b3e47d2-5d8e-4884-803c-49484448d68e
    type: regular
    task:
      id: 4b3e47d2-5d8e-4884-803c-49484448d68e
      version: -1
      name: Delete Category content
      description: Delete content from a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "24"
    scriptarguments:
      category:
        simple: his cat
      change_description:
        simple: test
      content_type:
        simple: CATEGORY_LIST
      ip: {}
      schema_version: {}
      url: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 5560
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "26":
    id: "26"
    taskid: b51f2840-4e31-4aef-8d1f-5c4d23783b0b
    type: regular
    task:
      id: b51f2840-4e31-4aef-8d1f-5c4d23783b0b
      version: -1
      name: Get IP policy
      description: Get a policy from Symantec MC
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "43"
    scriptarguments:
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6085
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "27":
    id: "27"
    taskid: 9a6a46dc-5bd6-4acf-82b4-daa6ccc697b7
    type: condition
    task:
      id: 9a6a46dc-5bd6-4acf-82b4-daa6ccc697b7
      version: -1
      name: Did we get all the policy data?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "40"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: SymantecMC.Policy.IP.Address
            iscontext: true
          right:
            value:
              simple: 2.2.2.2
      - - operator: isEqualString
          left:
            value:
              simple: SymantecMC.Policy.URL.Address
            iscontext: true
          right:
            value:
              simple: www.youtube.com
      - - operator: isEqualString
          left:
            value:
              simple: SymantecMC.Policy.Category.Name
            iscontext: true
          right:
            value:
              simple: my cat
      - - operator: isEqualString
          left:
            value:
              complex:
                root: SymantecMC
                accessor: Policy
                transformers:
                - operator: WhereFieldEquals
                  args:
                    equalTo:
                      value:
                        simple: test_policy_ip
                    field:
                      value:
                        simple: Name
                    getField:
                      value:
                        simple: Description
            iscontext: true
          right:
            value:
              simple: test2
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6610
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "28":
    id: "28"
    taskid: 32c659d8-17c2-43db-8e38-12db556d5939
    type: regular
    task:
      id: 32c659d8-17c2-43db-8e38-12db556d5939
      version: -1
      name: Update IP policy description
      description: Update the metadata for a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-update-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      description:
        simple: test2
      name: {}
      reference_id: {}
      replace_variables: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 4860
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "29":
    id: "29"
    taskid: 54891a0b-b584-46c9-853c-93b86d4e772b
    type: title
    task:
      id: 54891a0b-b584-46c9-853c-93b86d4e772b
      version: -1
      name: Done
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 7310
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "30":
    id: "30"
    taskid: 6437243f-447d-423b-8f54-9f1315ab09b6
    type: regular
    task:
      id: 6437243f-447d-423b-8f54-9f1315ab09b6
      version: -1
      name: DeleteContext
      description: Delete field from context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    scriptarguments:
      all:
        simple: "yes"
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "31":
    id: "31"
    taskid: 458c7ee9-f802-4b6a-888c-40f03718d99e
    type: regular
    task:
      id: 458c7ee9-f802-4b6a-888c-40f03718d99e
      version: -1
      name: Search for the IP policy
      description: List policies in Symantec MC
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "32"
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_ip
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 1885
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "32":
    id: "32"
    taskid: 1210ac1c-6adb-43e2-87ff-d681024f32bc
    type: condition
    task:
      id: 1210ac1c-6adb-43e2-87ff-d681024f32bc
      version: -1
      name: Does it exist?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "10"
      "yes":
      - "33"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Policy.UUID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 2060
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "33":
    id: "33"
    taskid: 23a657b7-5121-460c-8474-d9e955cd9a77
    type: regular
    task:
      id: 23a657b7-5121-460c-8474-d9e955cd9a77
      version: -1
      name: Delete the policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "34"
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2235
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "34":
    id: "34"
    taskid: 55f08f93-1775-49a8-8bf0-4b6663e0b0eb
    type: regular
    task:
      id: 55f08f93-1775-49a8-8bf0-4b6663e0b0eb
      version: -1
      name: Delete key
      description: Delete field from context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2410
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "35":
    id: "35"
    taskid: f7790894-3cfa-4a2b-883c-42aba483a8da
    type: regular
    task:
      id: f7790894-3cfa-4a2b-883c-42aba483a8da
      version: -1
      name: Delete key
      description: Delete field from context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "36"
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3110
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "36":
    id: "36"
    taskid: 7fc6076d-dde9-4ff4-8edc-49f096fcbd5b
    type: regular
    task:
      id: 7fc6076d-dde9-4ff4-8edc-49f096fcbd5b
      version: -1
      name: Search for the category policy
      description: List policies in Symantec MC
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "37"
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_category
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 3285
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "37":
    id: "37"
    taskid: 39416b7b-982b-46d8-848c-c06bde24599d
    type: condition
    task:
      id: 39416b7b-982b-46d8-848c-c06bde24599d
      version: -1
      name: Does it exist?
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "18"
      "yes":
      - "38"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: SymantecMC.Policy
            iscontext: true
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 3460
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "38":
    id: "38"
    taskid: ecaef95b-d960-404c-8fbb-b7f5600820a2
    type: regular
    task:
      id: ecaef95b-d960-404c-8fbb-b7f5600820a2
      version: -1
      name: Delete the policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "39"
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3635
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "39":
    id: "39"
    taskid: 20ef4c03-69ac-4e2e-8349-ed227e65db89
    type: regular
    task:
      id: 20ef4c03-69ac-4e2e-8349-ed227e65db89
      version: -1
      name: Delete key
      description: Delete field from context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "18"
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3810
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "40":
    id: "40"
    taskid: 3632ded1-6b80-435a-8ae5-6d9a6f72bfd8
    type: regular
    task:
      id: 3632ded1-6b80-435a-8ae5-6d9a6f72bfd8
      version: -1
      name: Delete IP policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "41"
    scriptarguments:
      force: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6785
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "41":
    id: "41"
    taskid: b90c02f3-cafc-4282-862a-770b9cfe0768
    type: regular
    task:
      id: b90c02f3-cafc-4282-862a-770b9cfe0768
      version: -1
      name: Delete URL policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "42"
    scriptarguments:
      force: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6960
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "42":
    id: "42"
    taskid: 48a91d02-42e1-4742-8236-1f38f7a64045
    type: regular
    task:
      id: 48a91d02-42e1-4742-8236-1f38f7a64045
      version: -1
      name: Delete category policy
      description: Delete a policy in Symantec MC
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "29"
    scriptarguments:
      force: {}
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 7135
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "43":
    id: "43"
    taskid: 181ea259-a3a7-4baa-80f9-4e4bd149bab3
    type: regular
    task:
      id: 181ea259-a3a7-4baa-80f9-4e4bd149bab3
      version: -1
      name: Get URL policy
      description: Get a policy from Symantec MC
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "44"
    scriptarguments:
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6260
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "44":
    id: "44"
    taskid: 27de4ae4-9922-4ade-8a1d-8289fdf92a06
    type: regular
    task:
      id: 27de4ae4-9922-4ade-8a1d-8289fdf92a06
      version: -1
      name: Get category policy
      description: Get a policy from Symantec MC
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      iscommand: true
      brand: Symantec Management Center
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      uuid:
        complex:
          root: SymantecMC
          accessor: Policy
          transformers:
          - operator: WhereFieldEquals
            args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 6435
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 7325,
        "width": 492.5,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
